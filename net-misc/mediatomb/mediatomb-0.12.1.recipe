SUMMARY="Open source UPnP Media Server"
DESCRIPTION="MediaTomb is an open source UPnP MediaServer"
HOMEPAGE="http://mediatomb.cc/"
COPYRIGHT="2005 Gena Batyan, Sergey 'Jin' Bostandzhyan \
2006-2010 Gena Batyan, Sergey 'Jin' Bostandzhyan, Leonhard Wimmer"
LICENSE="GNU GPL v2"
REVISION="2"
SOURCE_URI="http://downloads.sourceforge.net/project/mediatomb/MediaTomb/0.12.1/mediatomb-0.12.1.tar.gz"
CHECKSUM_SHA256="31163c34a7b9d1c9735181737cb31306f29f1f2a0335fb4f53ecccf8f62f11cd"
PATCHES="mediatomb-$portVersion.patch"
MESSAGE="This port only builds with gcc4. Use 'setgcc gcc4' before building."

ARCHITECTURES="x86_gcc2 x86 x86_64"

PROVIDES="
	mediatomb = $portVersion
	"
REQUIRES="
	libiconv
	haiku
	"

BUILD_PREREQUIRES="
	cmd:libtoolize
	cmd:aclocal
	cmd:autoconf
	cmd:automake
	cmd:make
	cmd:gcc
	sqlite
	expat
	zlib
	libiconv_devel
	"
BUILD_REQUIRES="
	haiku_devel
	"

BUILD()
{
	autoreconf -i
	./configure
	make
}

INSTALL()
{
	make install
}
